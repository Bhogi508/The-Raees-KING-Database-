<!DOCTYPE html>
<html>
<head>
<title>Secure SIM Lookup</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
    margin:0;
    font-family: Arial, sans-serif;
    background:#0b0b0b;
    color:white;
}
.page {
    display:none;
    height:100vh;
    align-items:center;
    justify-content:center;
    flex-direction:column;
}
input, button {
    width:80%;
    padding:12px;
    margin:10px;
    border:none;
    border-radius:6px;
    font-size:16px;
}
input {
    background:#111;
    color:#0ff;
    border:1px solid #0ff;
}
button {
    background:#0ff;
    color:black;
    font-weight:bold;
}
#result {
    width:90%;
    max-height:300px;
    overflow:auto;
    background:#111;
    padding:10px;
    border:1px solid #0ff;
    margin-top:15px;
}
</style>
</head>

<body>

<!-- PAGE 1 -->
<div id="loginPage" class="page" style="display:flex;">
    <h2>üîê Enter Access Key</h2>
    <input id="keyInput" placeholder="Enter Access Key">
    <button onclick="checkKey()">Unlock</button>
    <p id="msg" style="color:red;"></p>
</div>

<!-- PAGE 2 -->
<div id="toolPage" class="page">
    <h2>üì± SIM Info Lookup</h2>
    <input id="numInput" placeholder="Enter Mobile Number">
    <button onclick="lookup()">Search</button>
    <div id="result">Result will appear here‚Ä¶</div>
</div>

<script>
const ACCESS_KEY = "$hello&";
const API_URL = "https://pak-sim-info.ftgmhacks.workers.dev/?num=";

function checkKey(){
    const k = document.getElementById("keyInput").value;
    if(k === ACCESS_KEY){
        document.getElementById("loginPage").style.display="none";
        document.getElementById("toolPage").style.display="flex";
    } else {
        document.getElementById("msg").innerText = "‚ùå Wrong Access Key";
    }
}

function lookup(){
    const num = document.getElementById("numInput").value;
    if(num.length < 6){
        alert("Enter valid number");
        return;
    }

    document.getElementById("result").innerText = "‚è≥ Fetching data...";

    fetch(API_URL + encodeURIComponent(num))
    .then(r => r.text())
    .then(data => {
        document.getElementById("result").innerText = data;
    })
    .catch(err => {
        document.getElementById("result").innerText = "‚ùå API Error or Not Working";
    });
}
</script>

</body>
</html>
